2024-04-26T01:06:34 (s2t.sh:263:main) ./s2t.sh --stage 11 --stop_stage 13 --use_lm false --num_nodes 1 --ngpu 1 --nj 16 --gpu_inference true --inference_nj 32 --num_splits_s2t 12 --dumpdir dump --feats_type raw --audio_format flac.ark --token_type bpe --nbpe 50000 --bpe_input_sentence_size 15000000 --s2t_config conf/train_s2t_ebf_conv2d_size384_e6_d6_piecewise_lr1e-3_warmup60k_flashattn_lora_ft_vis.yaml --inference_config conf/decode_s2t.yaml --inference_s2t_model valid.total_count.ave_5best.pth --train_set train_visual --valid_set dev5_visual --test_sets dev5_visual visspeech_test_whisper_visual ego4d_test_whisper_visual --bpe_train_text dump/raw/train_visual/text --bpe_nlsyms data/nlsyms.txt --lm_train_text dump/raw/train_visual/text
2024-04-26T01:06:35 (s2t.sh:301:main) Info: The valid_set 'dev5_visual' is included in the test_sets. '--eval_valid_set true' is set and 'dev5_visual' is removed from the test_sets
2024-04-26T01:06:35 (s2t.sh:543:main) Skipped stages:  6 7 8 9 14 15 16 
2024-04-26T01:06:35 (s2t.sh:1305:main) Stage 11: S2T Training: train_set=dump/raw/train_visual, valid_set=dump/raw/dev5_visual
2024-04-26T01:06:35 (s2t.sh:1363:main) exp/s2t_stats_raw_bpe50000/splits12/.done exists. Spliting is skipped
2024-04-26T01:06:35 (s2t.sh:1422:main) Generate 'exp/s2t_train_s2t_ebf_conv2d_size384_e6_d6_piecewise_lr1e-3_warmup60k_flashattn_lora_ft_vis_raw_bpe50000/run.sh'. You can resume the process from stage 11 using this script
2024-04-26T01:06:35 (s2t.sh:1426:main) S2T training started... log: 'exp/s2t_train_s2t_ebf_conv2d_size384_e6_d6_piecewise_lr1e-3_warmup60k_flashattn_lora_ft_vis_raw_bpe50000/train.log'
2024-04-26 01:06:35,418 (launch:94) INFO: /ocean/projects/cis210027p/ywu13/projects/VisualASR/OWSM_visual/espnet/tools/miniconda/envs/owsm_visual/bin/python3 /ocean/projects/cis210027p/ywu13/projects/VisualASR/OWSM_visual/espnet/espnet2/bin/launch.py --cmd 'run.pl --name exp/s2t_train_s2t_ebf_conv2d_size384_e6_d6_piecewise_lr1e-3_warmup60k_flashattn_lora_ft_vis_raw_bpe50000/train.log' --log exp/s2t_train_s2t_ebf_conv2d_size384_e6_d6_piecewise_lr1e-3_warmup60k_flashattn_lora_ft_vis_raw_bpe50000/train.log --ngpu 1 --num_nodes 1 --init_file_prefix exp/s2t_train_s2t_ebf_conv2d_size384_e6_d6_piecewise_lr1e-3_warmup60k_flashattn_lora_ft_vis_raw_bpe50000/.dist_init_ --multiprocessing_distributed true -- python3 -m espnet2.bin.vis_s2t_train --use_preprocessor true --bpemodel data/token_list/bpe_unigram50000/bpe.model --token_type bpe --token_list data/token_list/bpe_unigram50000/tokens.txt --non_linguistic_symbols none --cleaner none --g2p none --valid_data_path_and_name_and_type dump/raw/dev5_visual/wav.scp,speech,kaldi_ark --valid_shape_file exp/s2t_stats_raw_bpe50000/valid/speech_shape --resume true --fold_length 80000 --output_dir exp/s2t_train_s2t_ebf_conv2d_size384_e6_d6_piecewise_lr1e-3_warmup60k_flashattn_lora_ft_vis_raw_bpe50000 --config conf/train_s2t_ebf_conv2d_size384_e6_d6_piecewise_lr1e-3_warmup60k_flashattn_lora_ft_vis.yaml --frontend_conf fs=16k --normalize=global_mvn --normalize_conf stats_file=exp/s2t_stats_raw_bpe50000/train/feats_stats.npz --train_data_path_and_name_and_type exp/s2t_stats_raw_bpe50000/splits12/wav.scp,speech,kaldi_ark --train_shape_file exp/s2t_stats_raw_bpe50000/splits12/speech_shape --fold_length 150 --train_data_path_and_name_and_type exp/s2t_stats_raw_bpe50000/splits12/text.prev,text_prev,text --train_shape_file exp/s2t_stats_raw_bpe50000/splits12/text_prev_shape.bpe --fold_length 150 --train_data_path_and_name_and_type exp/s2t_stats_raw_bpe50000/splits12/text.ctc,text_ctc,text --train_shape_file exp/s2t_stats_raw_bpe50000/splits12/text_ctc_shape.bpe --fold_length 150 --train_data_path_and_name_and_type exp/s2t_stats_raw_bpe50000/splits12/text,text,text --train_shape_file exp/s2t_stats_raw_bpe50000/splits12/text_shape.bpe --fold_length 150 --train_data_path_and_name_and_type exp/s2t_stats_raw_bpe50000/splits12/clip_feature,clip_feature,npy --train_shape_file exp/s2t_stats_raw_bpe50000/splits12/clip_feature_shape.bpe --multiple_iterator true --valid_data_path_and_name_and_type dump/raw/dev5_visual/text.prev,text_prev,text --valid_shape_file exp/s2t_stats_raw_bpe50000/valid/text_prev_shape.bpe --valid_data_path_and_name_and_type dump/raw/dev5_visual/text.ctc,text_ctc,text --valid_shape_file exp/s2t_stats_raw_bpe50000/valid/text_ctc_shape.bpe --valid_data_path_and_name_and_type dump/raw/dev5_visual/text,text,text --valid_shape_file exp/s2t_stats_raw_bpe50000/valid/text_shape.bpe --valid_data_path_and_name_and_type dump/raw/dev5_visual/clip_feature,clip_feature,npy --valid_shape_file exp/s2t_stats_raw_bpe50000/valid/clip_feature_shape.bpe
2024-04-26 01:06:35,535 (launch:348) INFO: log file: exp/s2t_train_s2t_ebf_conv2d_size384_e6_d6_piecewise_lr1e-3_warmup60k_flashattn_lora_ft_vis_raw_bpe50000/train.log
Traceback (most recent call last):
  File "/ocean/projects/cis210027p/ywu13/projects/VisualASR/OWSM_visual/espnet/tools/miniconda/envs/owsm_visual/lib/python3.8/runpy.py", line 194, in _run_module_as_main
    return _run_code(code, main_globals, None,
  File "/ocean/projects/cis210027p/ywu13/projects/VisualASR/OWSM_visual/espnet/tools/miniconda/envs/owsm_visual/lib/python3.8/runpy.py", line 87, in _run_code
    exec(code, run_globals)
  File "/ocean/projects/cis210027p/ywu13/projects/VisualASR/OWSM_visual/espnet/espnet2/bin/launch.py", line 384, in <module>
    main()
  File "/ocean/projects/cis210027p/ywu13/projects/VisualASR/OWSM_visual/espnet/espnet2/bin/launch.py", line 358, in main
    process.wait(0.5)
  File "/ocean/projects/cis210027p/ywu13/projects/VisualASR/OWSM_visual/espnet/tools/miniconda/envs/owsm_visual/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/ocean/projects/cis210027p/ywu13/projects/VisualASR/OWSM_visual/espnet/tools/miniconda/envs/owsm_visual/lib/python3.8/subprocess.py", line 1816, in _wait
    time.sleep(delay)
KeyboardInterrupt
